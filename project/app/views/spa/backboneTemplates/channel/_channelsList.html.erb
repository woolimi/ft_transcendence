<script type="text/template" name="tmpl-channels-list">
<%% _.each(chats, function(chat, i) { %>
	<%% const me = _.find(chat.members, (member) => { return member.user_id === $('html').data().userId }) %>
	<%% const opponent = _.find(chat.members, (member) => { return member.user_id !== $('html').data().userId }) %>
	<%% const is_blocked = _.find(block_list, (u) => { return u.user_id === opponent.user_id }) %>
	<li data-room="<%%= chat.room %>"
		class="<%%= !is_blocked && (chat.unread > 0 || me.display) ? "" : "d-none" %> channel-list-chat list-group-item d-flex justify-content-between align-items-center side-list-item cursor">
		<div>
			<%%= opponent.nickname %>
		</div>
		<div>
			<%% if (chat.unread > 0) { %>
			<span class="badge badge-danger badge-pill"><%%= chat.unread %></span>
			<%% } else { %>
			<span class="badge badge-danger badge-pill d-none">0</span>
			<%% } %>
			<span class="remove-chat oi oi-x"></span>
		</div>
	</li>
<%% }) %>
</script>

<!-- 
	<li class="list-group-item d-flex justify-content-between align-items-center side-list-item">
		<div>
			# public channel
		</div>
		<span class="badge badge-danger badge-pill">14</span>
	</li>
	<li class="list-group-item d-flex justify-content-between align-items-center side-list-item">
		<div>
			<span class="private-channel"># private channel</span>
		</div>
		<span class="badge badge-danger badge-pill">14</span>
	</li>

	<li class="list-group-item d-flex justify-content-between align-items-center side-list-item">
		<div>
			# protected channel <span class="oi oi-lock-locked"></span>
		</div>
		<span class="badge badge-danger badge-pill">14</span>
	</li>
-->