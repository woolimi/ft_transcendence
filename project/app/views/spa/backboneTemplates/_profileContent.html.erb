<!-- profile content -->
<%# https://cdn.intra.42.fr/users/small_wpark.jpg %>

<script type="text/template" name="tmpl-block-searched-users-modal">
	<%% _.each(users, function(user, i) { %>
		<li class="list-group-item"><%%= user.nickname %> (<%%= user.name %>)
			<button class="btn btn-danger btn-sm float-right blockUserBtn"
				data-user-id="<%%= user.user_id %>"
				data-name="<%%= user.name %>"
				data-nickname="<%%= user.nickname %>"
				data-avatar-url="<%%= user.avatar_url %>">
				block
			</button>
		</li>
	<%% }) %>
</script>

<script type="text/template" name="tmpl-content-profile">
<div class="m-3">
	<h2>User Profile</h2>
</div>
<div class="container p-3">
<form class="border-bottom">
  <div class="form-group row">
    <label for="avatar" class="col-sm-5 col-form-label">Avatar</label>
    <div class="col-sm-7">
    	<input type="file" class="form-control-file avatar_url-update" id="avatar">
    </div>
  </div>

  <div class="form-group row">
    <label for="name" class="col-sm-5 col-form-label">Name</label>
    <div class="col-sm-7">
			<input class="form-control name-update" type="text" value="<%%= name %>" id="name" readonly>
    </div>
  </div>

  <div class="form-group row">
    <label for="nickname" class="col-sm-5 col-form-label">Nickname</label>
    <div class="col-sm-7">
      <input type="text" class="form-control nickname-update" id="nickname" value="<%%= nickname %>">
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-5">2 Factor Authentication</div>
    <div class="col-sm-7">
      <div class="custom-control custom-switch">
        <input class="custom-control-input two-factor-update" type="checkbox" id="twofactor" <%%= (two_factor === "on" ) ? "checked" : "" %>>
        <label class="custom-control-label" for="twofactor">
          on / off
        </label>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <div class="col-sm-12 text-center">
      <button type="submit" class="btn btn-primary">Save Changes</button>
    </div>
  </div>
</form>
</div>

<div class="m-3">
	<h2>Block List&nbsp&nbsp&nbsp <button type="button" class="btn btn-warning blockBtn" data-toggle="modal" data-target="#searchBlockUserModal">Add</button></h2>


	<div class="overflow-auto" style="height: 200px">
		<ul class="list-group">
		<%% _.each(block_list, function(block_list) { %>	
			<li class="list-group-item d-flex justify-content-between align-items-center">
				<%%= block_list.nickname %>
				(<%%= block_list.name %>)

				<button type="button" class="btn btn-danger btn-sm unblock" data-user_id="<%%= block_list.user_id %>" data-name="<%%= block_list.name %>"
			data-nickname="<%%= block_list.nickname %>">delete</button>
			</li>
		<%% }) %>
		</ul>
		<br>

	</div>
</div>
 <% if flash[:alert] %>
        Helper.flash_message("danger", "<%=flash[:alert]%>");
    <% elsif flash[:notice] %>
      Helper.flash_message("success", "<%=flash[:notice]%>");
<% end %>
</script>